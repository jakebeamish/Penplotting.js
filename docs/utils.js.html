<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
export function sinFract(x, y, a, b, m) {
	return fract(Math.sin(x * a + y * b) * m);
}

/**
 *
 * @param {number} x
 * @returns {number} The fractional part of x
 * @example
 * // returns 0.42
 * fract(1.42)
 * @example
 * // returns 0.77
 * fract(-42.23)
 */
export function fract(x) {
	return x - Math.floor(x);
}

export function wrap(input, min, max) {
	const range = max - min;
	return min + ((input - min + range) % range);
}

/**
 * Linear interpolation between two values
 * @param {number} a
 * @param {number} b
 * @param {number} amount
 */
export function lerp(a, b, amount) {
	return a + (b - a) * amount;
}

/**
 * Re-maps a number from one range to another.
 *
 * @param {number} value - The number to be re-mapped.
 * @param {number} min1 - The minimum value of the original range.
 * @param {number} max1 - The maximum value of the original range.
 * @param {number} min2 - The minimum value of the target range.
 * @param {number} max2 - The maximum value of the target range.
 * @param {boolean} [withinBounds=false] - Whether the remapped value should be constrained within the target range.
 * @returns {number} The re-mapped value.
 */
export function map(value, min1, max1, min2, max2, withinBounds = false) {
	// Re-map the value from the original range to the target range
	let mappedValue = min2 + ((value - min1) / (max1 - min1)) * (max2 - min2);

	// Optionally constrain the remapped value within the target range
	if (withinBounds) {
		mappedValue = Math.min(max2, Math.max(min2, mappedValue));
	}

	return mappedValue;
}

export function cryptoRandomHex(length) {
	if (length &lt;= 0) return "";

	// Calculate the number of bytes needed (each byte = 2 hex characters)
	const byteLength = Math.ceil(length / 2);
	const randomBytes = new Uint8Array(byteLength);

	// Fill the array with cryptographically secure random values
	crypto.getRandomValues(randomBytes);

	// Convert the random bytes to a hex string
	const hexValue = Array.from(randomBytes)
		.map((byte) => byte.toString(16).padStart(2, "0"))
		.join("");

	// Ensure the hex value matches the specified length
	const truncatedHexValue = hexValue.slice(0, length);

	// Convert the hex string to a decimal value
	let decimalValue;
	const bigIntValue = BigInt("0x" + truncatedHexValue);

	// Check if the value is within the safe integer range
	const maxSafeInteger = BigInt(Number.MAX_SAFE_INTEGER);
	if (bigIntValue &lt;= maxSafeInteger) {
		decimalValue = Number(bigIntValue);
	} else {
		decimalValue = bigIntValue;
	}

	return {
		hex: truncatedHexValue,
		decimal: decimalValue,
	};
}

/**
 * @description Convert a hexadecimal string to a decimal number.
 * @param {string} hex - A hexacimal string.
 * @returns {number} - The decimal equivalent of the hex string.
 */
export function hexToDec(hex) {
	return parseInt(hex, 16);
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="LCG.html">LCG</a></li><li><a href="Line.html">Line</a></li><li><a href="PRNG.html">PRNG</a></li><li><a href="Sketch.html">Sketch</a></li><li><a href="Vector.html">Vector</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addLineToSVG">addLineToSVG</a></li><li><a href="global.html#createSVG">createSVG</a></li><li><a href="global.html#deduplicateObjectArray">deduplicateObjectArray</a></li><li><a href="global.html#fract">fract</a></li><li><a href="global.html#hexToDec">hexToDec</a></li><li><a href="global.html#lerp">lerp</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#unseededRandomHex">unseededRandomHex</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Thu Jun 13 2024 15:28:05 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
